<!DOCTYPE html>
<html lang="zh" dir="ltr"><head><title>Polybar 的配置笔记</title><meta charset="utf-8"/><link rel="preconnect" href="https://ik.imagekit.io/fonts131" crossorigin="anonymous"/><link rel="stylesheet" href="https://ik.imagekit.io/fonts131/packages/jhlst/dist/%E4%BA%AC%E8%8F%AF%E8%80%81%E5%AE%8B%E4%BD%93v1_007/result.css"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="Learn2Live"/><meta property="og:title" content="Polybar 的配置笔记"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Polybar 的配置笔记"/><meta name="twitter:description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！ 换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm…，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了： Polybar: A fast and eas..."/><meta property="og:description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！ 换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm…，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了： Polybar: A fast and eas..."/><meta property="og:image:alt" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！ 换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm…，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了： Polybar: A fast and eas..."/><meta property="og:image" content="https://guyueshui.github.io/quartz/static/og-image.png"/><meta property="og:image:url" content="https://guyueshui.github.io/quartz/static/og-image.png"/><meta name="twitter:image" content="https://guyueshui.github.io/quartz/static/og-image.png"/><meta property="og:image:type" content="image/.png"/><meta property="twitter:domain" content="guyueshui.github.io/quartz"/><meta property="og:url" content="https://guyueshui.github.io/quartz/Blogs/post/Polybar-的配置笔记"/><meta property="twitter:url" content="https://guyueshui.github.io/quartz/Blogs/post/Polybar-的配置笔记"/><meta name="description" content="前略。 今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！ 换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm…，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了： Polybar: A fast and eas..."/><meta name="generator" content="Quartz"/><link href="../../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvcXVhcnR6L3F1YXJ0ei9xdWFydHovY29tcG9uZW50cy9zdHlsZXMiLCJzb3VyY2VzIjpbIm1lcm1haWQuaW5saW5lLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTtFQUNBOztBQUdGO0VBQ0U7OztBQUtGO0VBQ0U7RUFDQTs7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBSUo7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7O0FBSUY7RUFDRTtFQUNBO0VBQ0EiLCJzb3VyY2VzQ29udGVudCI6WyIuZXhwYW5kLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nOiAwLjRyZW07XG4gIG1hcmdpbjogMC4zcmVtO1xuICByaWdodDogMDsgLy8gTk9URTogcmlnaHQgd2lsbCBiZSBzZXQgaW4gbWVybWFpZC5pbmxpbmUudHNcbiAgY29sb3I6IHZhcigtLWdyYXkpO1xuICBib3JkZXItY29sb3I6IHZhcigtLWRhcmspO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IDAuMnM7XG5cbiAgJiA+IHN2ZyB7XG4gICAgZmlsbDogdmFyKC0tbGlnaHQpO1xuICAgIGZpbHRlcjogY29udHJhc3QoMC4zKTtcbiAgfVxuXG4gICY6aG92ZXIge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItY29sb3I6IHZhcigtLXNlY29uZGFyeSk7XG4gIH1cblxuICAmOmZvY3VzIHtcbiAgICBvdXRsaW5lOiAwO1xuICB9XG59XG5cbnByZSB7XG4gICY6aG92ZXIgPiAuZXhwYW5kLWJ1dHRvbiB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2l0aW9uOiAwLjJzO1xuICB9XG59XG5cbiNtZXJtYWlkLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgY29udGFpbjogbGF5b3V0O1xuICB6LWluZGV4OiA5OTk7XG4gIGxlZnQ6IDA7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMHZ3O1xuICBoZWlnaHQ6IDEwMHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBkaXNwbGF5OiBub25lO1xuICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTtcbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjUpO1xuXG4gICYuYWN0aXZlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIH1cblxuICAmID4gI21lcm1haWQtc3BhY2Uge1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbGlnaHQpO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgdG9wOiA1MCU7XG4gICAgbGVmdDogNTAlO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIGhlaWdodDogODB2aDtcbiAgICB3aWR0aDogODB2dztcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRlbnQge1xuICAgICAgcGFkZGluZzogMnJlbTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzIGVhc2U7XG4gICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xuICAgICAgbWluLXdpZHRoOiAyMDBweDtcblxuICAgICAgcHJlIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIHN2ZyB7XG4gICAgICAgIG1heC13aWR0aDogbm9uZTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgfVxuICAgIH1cblxuICAgICYgPiAubWVybWFpZC1jb250cm9scyB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBib3R0b206IDIwcHg7XG4gICAgICByaWdodDogMjBweDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDhweDtcbiAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgei1pbmRleDogMjtcblxuICAgICAgLm1lcm1haWQtY29udHJvbC1idXR0b24ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDMycHg7XG4gICAgICAgIGhlaWdodDogMzJweDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgICBjb2xvcjogdmFyKC0tZGFyayk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS1ib2R5Rm9udCk7XG4gICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG5cbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgICY6YWN0aXZlIHtcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMXB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0eWxlIHRoZSByZXNldCBidXR0b24gZGlmZmVyZW50bHlcbiAgICAgICAgJjpudGgtY2hpbGQoMikge1xuICAgICAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ== */</style><link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://guyueshui.github.io/quartz/index.xml"/></head><body data-slug="Blogs/post/Polybar-的配置笔记"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../..">Learn2Live</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>搜索</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="搜索些什么" placeholder="搜索些什么"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="暗色模式"><title>暗色模式</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="亮色模式"><title>亮色模式</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="阅读模式"><title>阅读模式</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>!new Set([\&quot;assets\&quot;,\&quot;tags\&quot;,\&quot;advanced\&quot;]).has(node.displayName.toLowerCase())&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-23"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>探索</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-23" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../Blogs/">Blogs</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../Blogs/post/">post</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Polybar 的配置笔记</a></div></nav><h1 class="article-title">Polybar 的配置笔记</h1><p show-comma="true" class="content-meta"><time datetime="2019-01-16T13:33:17.000Z">2019年1月16日</time><span>15分钟阅读</span></p><ul class="tags"><li><a href="../../tags/polybar" class="internal tag-link">polybar</a></li><li><a href="../../tags/个性化" class="internal tag-link">个性化</a></li></ul></div></div><article class="popover-hint"><p>前略。</p>
<p>今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！</p>
<p>换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm…，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了：</p>
<blockquote>
<p><a href="https://github.com/jaagr/polybar" title="Polybar" class="external">Polybar<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>: A fast and easy-to-use status bar.</p>
</blockquote>
<p>事实上它并不是那么 easy-to-use，至少对我这个一开始接触它的人来说。我甚至不知道如何开启它（可能我真的太笨了:(）。然后我开始在网上寻找一些现成的配置，结果不是报错，就是乱码。那些看着好看的配置，你拿过来却用不了。这很气人，然后就告一段落了。我顶着简陋的 i3bar 用了好几个月。直到最近闲下来，要想起来这位老朋友，这才拿出来叙叙旧。</p>
<blockquote>
<p>有些事情，你当时攻不下来。那就先放一放，择日再战有奇效。</p>
</blockquote>

<h2 id="由浅入深">由浅入深<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#由浅入深" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>这次呢，我从一个最简单的例子入手。从<a href="https://forum.archlabslinux.com/t/show-us-your-polybar/159/10" class="external">这里<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>找到一个既好看，又简约的模板：</p>
<p><img src="https://forum.archlabslinux.com/uploads/default/original/1X/13132e9654f0c10ed9c696caa501a40acc7e62fe.png" alt="Image adapted from ref" loading="lazy"/></p>
<p>我将对应的配置复制到我自己的配置文件（<code>~/.config/polybar/config</code>）中:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[bar/bar]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">background</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#D93d3c3b</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#b6a49b</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    = 24%</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   = 70</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">radius</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   = 15</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">line-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                = 0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bottom</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                   = true</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">border-bottom-size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">       = 0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">padding-left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">             = 0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">padding-right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            = 0</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#module-margin-left       = 1</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#module-margin-right      = 1</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fixed-center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = true</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">font-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = San Francisco Display Regular:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=24</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;1</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">font-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = unifont:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">fontformat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=truetype:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=24:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">antialias</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">font-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MaterialIcons:size=24:antialias=false;1&quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">font-3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;icomoon-extended-ultra:size=24:antialias=false;1&quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">font-4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Ubuntu Nerd Font:size=24:antialias=false;1&quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">font-5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = FontAwesome:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=24</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;1</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">modules-left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">modules-center</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">modules-right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = date volume eth poweroff </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">module-margin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 2</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;left - center - right - none</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tray-position</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = none</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tray-maxsize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 24</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tray-detached</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = false</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tray-transparent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = false</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tray-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 2</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">tray-scale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 1.0</span></span>
<span data-line> </span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">override-redirect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = true</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">offset-x</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 2900</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">offset-y</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 20</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">wm-name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = bar</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/date]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/date</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 60</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %a %d %b</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %l:%M %p</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =    %date%      %time%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;label =  %time%</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 1</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/volume]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/volume</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-volume</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =   &lt;ramp-volume>  &lt;label-volume></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-muted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0% </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-volume-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-volume-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-volume-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =  </span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/poweroff]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = custom/script</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = echo </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;  &quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">click-left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = rofi -modi run,drun,window -show drun</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">click-right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = i3lock-fancy -pg &amp;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">click-middle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = /usr/bin/rofi-logout</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 1</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/rofi]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = custom/script</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">exec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = echo </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;  &quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">click-left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = rofi -modi run,drun,window -show drun</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 1</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/eth]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/network</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = enp2s0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3.0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-connected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label-connected></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-connected-prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;  &quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-connected-prefix-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#b6a49b</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-connected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %downspeed:9%</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-disconnected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label-disconnected></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-disconnected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = not connected</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-disconnected-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#66ffffff</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 1</span></span></code></pre></figure>
<div style="text-align:center;"><small>Code adapted from ref</small></div>
<p>可以看到，配置文件前半部分为 bar 本身的配置：位置，大小，颜色等等。后半部分则是对应模块的配置。其中，我们看到的一些字符未显示，那是由于我的本地并没有可以显示它的字体。其中的乱码主要是 <a href="https://fontawesome.com/how-to-use/on-the-desktop/setup/getting-started" class="external">Font Awesome<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> 字体，首先我们得安装该字体。看看这个 bar 到底能不能如预期一样正常显示。</p>
<p>执行</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="sh" data-theme="github-light github-dark"><code data-language="sh" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">polybar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bar</span></span></code></pre></figure>
<p>来运行配置文件中的 bar，其中“bar”为自定义的名字，在上面的配置文件中，这个 bar 的名字就是 “bar”。（参见<code>[bar/bar]</code>）</p>
<p>不知道是什么原因，运行没有报错，但是我却看不见 bar 在哪里。╮(╯_╰)╭ 可能是它画在了屏幕之外的地方。于是我就将上面的参数改了改，终于，我看到了着个可爱又迷人的 bar 出现在我的桌面上。不过还是有几处乱码，可能是我安装的 Font Awesome 支持的字符不完整吧。</p>
<p>然后就开始了漫长的折腾过程，循着错误信息去改对应的地方，然后看效果。再微调，再看效果，直到满意为止。</p>
<p>下面是我调整完成的样子：
<img src="https://s2.ax1x.com/2019/01/16/kSXd9s.png" alt="kSXd9s.png" loading="lazy"/></p>
<h2 id="了解构造">了解构造<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#了解构造" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>其实通过配置文件，我们可以学到很多东西。当然，前提是要有一个好的蓝本给你看。这就不得不提 polybar 的 <a href="https://github.com/jaagr/polybar/wiki" class="external">wiki<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>，以及作者给出的一些<a href="https://github.com/jaagr/dots/tree/master/.config/polybar/testing" class="external">示例<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>了。</p>
<p>好了，现在蓝本已经有了。我想添加一个新的模块：比如现在的 Wi-Fi 模块只有下行速度，我要加一个上行速度，并且加上下行箭头。参照 wiki 中的 network 模块，我们可以修改如下：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/wlan]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/network</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = wlp2s0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3.0</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-connected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label-connected></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-connected-prefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-connected-prefix-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#b6a49b</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-connected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %upspeed:5% %downspeed:5%</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-disconnected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label-disconnected></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-disconnected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = not connected</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-disconnected-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#66ffffff</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-padding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 0</span></span></code></pre></figure>
<p>可以看到，被改动的实际上只有一行：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; before</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-connected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %downspeed:9%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; after</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-connected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %upspeed:5% %downspeed:5%</span></span></code></pre></figure>
<p>这样就完成了所期望的改变。</p>
<blockquote>
<p>Note: 要输入 Font Awesome 字符，可以打开官网的字符集 <a href="https://fontawesome.com/cheatsheet?from=io" class="external">cheatsheet<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>，然后直接复制到编辑器中。
<img src="https://s2.ax1x.com/2019/01/17/kpFFm9.png" alt="kpFFm9.png" loading="lazy"/>
例如，通过浏览器搜索找到上行箭头，复制之。</p>
<p>另外如果使用 vim，可以直接输入对应的十六进制编码来完成字符的输入。比如，我要输入上行箭头（fa-arrow-up），它的十六进制码为 <code>f062</code>（在 cheatsheet 中可查）：</p>
<ol>
<li>按 <code>i</code> 进入插入模式</li>
<li>按 <kbd>Ctrl</kbd> + <kbd>v</kbd></li>
<li>按 <code>u</code> 进入十六进制输入模式</li>
<li>输入 <code>f062</code></li>
<li>按 <kbd>Esc</kbd> 返回正常模式</li>
</ol>
<p>inputing… <i class="fa fa-arrow-up"> </i></p>
</blockquote>
<blockquote>
<p>另，<code>:help i_CTRL-V_digit</code>
In insert-mode, type control+V followed by</p>
<ul>
<li><code>a</code> decimal number</li>
<li><code>x</code> then a hex number</li>
<li><code>u</code> then a 4-hexchar unicode sequence</li>
<li><code>U</code> then an 8-hexchar unicode sequence</li>
</ul>
</blockquote>
<h2 id="摄入取景">摄入取景<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#摄入取景" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>好了，通过上面的一点小小的改动，我们已经大致了解 polybar 的配置方式了。现在，通过一步一步加模块，我们会更进一步的了解它的工作方式。建议每添加一个模块前，先读一读 wiki 上对应模块的设置。然后找一个不错的模板进行改动。</p>
<h3 id="内存和-cpu-模块">内存和 CPU 模块<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#内存和-cpu-模块" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;; CPU usage {{{</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/cpu]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/cpu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Seconds to sleep between updates</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Default: 1</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3.0</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Available tags:</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;label> (default)</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;bar-load></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;ramp-load></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;ramp-coreload></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label>&lt;ramp-load></span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Available tokens:</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage% (default) - total cpu load averaged over all cores</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage-sum% - Cumulative load on all cores</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage-cores% - load percentage for each core</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage-core[1-9]% - load percentage for specific core</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = CPU %percentage</span></span></code></pre></figure>
<p>顾名思义，它会输出CPU加一个变量，这个变量是一个百分比，就是当前CPU的平均使用率。可选的变量已经在 wiki 中给出。想要什么自己替换就行。</p>
<p>再来看看第二部分，</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▁</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▂</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▃</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▄</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▅</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▆</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▇</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = █</span></span></code></pre></figure>
<p><code>ramp-load</code>共有7个值，他会根据CPU使用率选择合适的值。简而言之，就是将100分成7个等级，使用率越高，就选用等级越高的图案显示。整合起来的效果就是随着百分比增加，显示的高度越高，类似一个性能监视窗，上下浮动。</p>
<p>这还不够，我们还可以做一点微小的工作。请看</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-0-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-1-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-2-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-3-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-4-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#fba922</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-5-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#fba922</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-6-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-load-7-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span></code></pre></figure>
<p>这里我们定义了每个等级展示字符的前景色。等级越高，颜色越红，表示警告CPU使用快超标了！这样整个变化就有了颜色相伴，更加直观！最后完成的效果如下：</p>
<p><img src="https://s2.ax1x.com/2019/01/17/kpVXGt.gif" alt="kpVXGt.gif" loading="lazy"/></p>
<p>内存模块也是类似的。先看一下配置，</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/memory]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/memory</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Seconds to sleep between updates</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Default: 1</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3.0</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Available tags:</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;label> (default)</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;bar-used></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;bar-free></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;ramp-used></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;ramp-free></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;bar-swap-used></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;bar-swap-free></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;ramp-swap-used></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   &lt;ramp-swap-free></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label>&lt;ramp-used></span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Available tokens:</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage_used% (default)</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage_free%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %gb_used%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %gb_free%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %gb_total%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %mb_used%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %mb_free%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %mb_total%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage_swap_used%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %percentage_swap_free%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %mb_swap_total%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %mb_swap_free%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %mb_swap_used%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %gb_swap_total%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %gb_swap_free%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;   %gb_swap_used%</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = RAM %percentage_used%%</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;label-font = 3</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Only applies if &lt;bar-used> is used</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-indicator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 50</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-foreground-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#55aa55</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-foreground-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#557755</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-foreground-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#f5a70a</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-foreground-3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▐</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▐</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-used-empty-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#444444</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Only applies if &lt;ramp-used> is used</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▁</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▂</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▃</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▄</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▅</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▆</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▇</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = █</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-0-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-1-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-2-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-3-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-4-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#fba922</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-5-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#fba922</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-6-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-used-7-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; Only applies if &lt;ramp-free> is used</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▁</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▂</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▃</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▄</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▅</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▆</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ▇</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-free-7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = █</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;; }}}</span></span></code></pre></figure>
<p>配置出来的效果见<a href="#gallery-4" class="internal alias">上图</a>。</p>
<h3 id="电池模块">电池模块<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#电池模块" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>同理可参考 wiki 配置电池模块。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;; battery {{{</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/battery]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/battery</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">full-at</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 98</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-charging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;animation-charging> &lt;label-charging></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-discharging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;ramp-capacity> &lt;label-discharging></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-full</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %{F</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#666}%{F#ccfafafa} &lt;label-full></span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#label-charging-font = 3</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#label-discharing-font = 3</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-capacity-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-capacity-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-capacity-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; low power alert</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ramp-capacity-0-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; it will display over the three pattern when charing</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; at a framerate 750</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; and each has a foreground color</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-2-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-1-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#fba922</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-0-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-framerate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 750</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;; }}}</span></span></code></pre></figure>
<p>可以看到电池的显示类型共有三个，</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-charging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;animation-charging> &lt;label-charging></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-discharging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;ramp-capacity> &lt;label-discharging></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-full</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = %{F</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#666}%{F#ccfafafa} &lt;label-full></span></span></code></pre></figure>
<p>第一个控制了充电时的显示，第二个控制了非充电时的显示，第三个则是满电时的显示。配置语言通俗易懂，比如，充电的时候会显示一个充电动画和电池电量（<code>&lt;label-charing></code>），其他的可以依次类推。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-2-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#aaff77</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-1-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#fba922</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-0-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#ff5555</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">animation-charging-framerate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 750</span></span></code></pre></figure>
<p>上面这段配置定义了充电时的动画，当你插上电源，电池图标会依次按照0、1、2的图案切换。然后每个图案都有各自的前景色，切换的速率是 750. 完成后的效果如下：</p>
<p><img src="https://s2.ax1x.com/2019/01/17/kpQbCQ.gif" alt="kpQbCQ.gif" loading="lazy"/></p>
<h3 id="mpd-模块">MPD 模块<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#mpd-模块" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><a href="https://www.musicpd.org/" class="external">MPD<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> 全称 Music Player Daemon.</p>
<blockquote>
<p>MPD (music player daemon) is an audio player that has a server-client architecture. It plays audio files, organizes playlists and maintains a music database, all while using very few resources. In order to interface with it, a separate client is needed.</p>
<div style="text-align:right;">──adpted from archwiki</div>
</blockquote>
<p>MPD是一个轻量的本地音乐播放框架。需要和客户端（mpc）一起使用。大致分为几步：</p>
<ol>
<li><code>$ mpd</code> 启动 mpd 进程</li>
<li><code>$ mpc add &lt;MusicDir></code> 添加本地音乐文件夹</li>
<li><code>$ mpc play</code> 开始播放</li>
</ol>
<p>如我们所见，非常轻量。但是 mpc 是命令行工具，使用起来难免有些不顺手。好在 polybar 已经内置了 mpd 模块，我们只需要改改样式就可以了。</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="ini" data-theme="github-light github-dark"><code data-language="ini" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;; mpd config {{{</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">[module/mpd]</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = internal/mpd</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">; format-online = &lt;label-song>  &lt;label-time>  &lt;bar-progress>  &lt;icon-prev> &lt;icon-seekb> &lt;icon-stop> &lt;toggle> &lt;icon-seekf> &lt;icon-next>  &lt;icon-repeat> &lt;icon-random></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-online</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;toggle> &lt;label-song> &lt;icon-next></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-offline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = &lt;label-offline></span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">format-offline-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#66</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-offline</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = mpd is off</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-song-maxlen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 20</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-song-font</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 8</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-prev</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-seekb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = stop</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-play</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-pause</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-seekf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-random</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">icon-repeat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">toggle-on-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#2278ff</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">toggle-off-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#66</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 15</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-indicator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-indicator-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#bb</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ─</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-fill-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#bb</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-fill-font</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = ─</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-empty-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#44</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bar-progress-empty-font</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 3</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-time-foreground</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#55</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">label-time-font</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> = 8</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;;; }}}</span></span></code></pre></figure>
<p>配置好我们需要的样式就大功告成啦，看一下效果：</p>
<p><img src="https://s2.ax1x.com/2019/01/17/kpgZLt.gif" alt="kpgZLt.gif" loading="lazy"/></p>
<h2 id="总结">总结<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#总结" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>一路折腾下来，发现 polybar 其实很友好。配置逻辑也非常清晰，有点怀疑自己当初为什么没有配置好它，反而觉得很难用。所以啊，作者写这个软件也不是为了刁难人的，一开始的时候也并没有这么复杂。我们入手呢，就要从作者一开始写出来的那样，能用出最基础的功能就好了。然后需求都是后来加上去的。有用户提，作者考虑做，或者作者自己想到的功能，才会在后面一步步添加上去。最终成为一个功能相对完善的软件。每个东西都有它的学习曲线，我们可能已经适应了平缓的山坡，突然面对一个陡峭的山峰之时，便不好应对了。但是千里之行，始于足下！我们始终要抓住它们最初的样子，或者说雏形，然后想一想它们是如何发展过来的，顺着这条线路走下去，自然觉得一切合情合理，也有勇气和信心去学了！然后当我们学会一个又一个软件之后，或许会发现它们可能有异曲同工之妙。那便是学到了！</p>
<h2 id="reference">Reference<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#reference" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="https://github.com/jaagr/polybar/wiki" class="external">Polybar wiki<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://github.com/jaagr/dots/tree/master/.config/polybar/testing" class="external">Polybar example<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://www.reddit.com/r/unixporn/comments/5pikkd/how_to_get_polybar_icons_working/" class="external">How to get polybar icons working<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://forum.archlabslinux.com/t/show-us-your-polybar/159/10" class="external">Show Us Your Polybar - Artwork / Polybar &amp; Tint2 Configs - ArchLabs Linux<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>关系图谱</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-7" aria-expanded="true"><h3>目录</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#由浅入深" data-for="由浅入深">由浅入深</a></li><li class="depth-0"><a href="#了解构造" data-for="了解构造">了解构造</a></li><li class="depth-0"><a href="#摄入取景" data-for="摄入取景">摄入取景</a></li><li class="depth-1"><a href="#内存和-cpu-模块" data-for="内存和-cpu-模块">内存和 CPU 模块</a></li><li class="depth-1"><a href="#电池模块" data-for="电池模块">电池模块</a></li><li class="depth-1"><a href="#mpd-模块" data-for="mpd-模块">MPD 模块</a></li><li class="depth-0"><a href="#总结" data-for="总结">总结</a></li><li class="depth-0"><a href="#reference" data-for="reference">Reference</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.2</a> © 2025 ❤️ Yychi</p><ul></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../postscript.js" type="module"></script></html>